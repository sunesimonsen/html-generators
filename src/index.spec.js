const chanceCache = require("chance-generators/lib/chanceCache");

const expect = require("../test/expect");
const { html, htmlString } = require("./index");

describe("html", () => {
  beforeEach(() => {
    chanceCache.clear();
  });

  it("generates random HTML trees", () => {
    expect(html.first(), "to equal snapshot", {
      type: "tag",
      tag: "html",
      attributes: { hidden: null, lang: "25SSlGlheH#ySk0Wbe)" },
      children: [
        {
          type: "tag",
          tag: "head",
          attributes: {},
          children: [
            {
              type: "tag",
              tag: "title",
              attributes: {
                dir: "ltr",
                draggable: "true",
                tabindex: "612",
                style: "column-rule: none thick #331dd2;"
              },
              children: [
                { type: "text", value: "Navvalbu rujbave dolbaw gokim sab." }
              ]
            }
          ]
        },
        {
          type: "tag",
          tag: "body",
          attributes: {
            tabindex: "927",
            hidden: null,
            dir: "auto",
            draggable: "false"
          },
          children: []
        }
      ]
    });
  });

  it("shrinks towards minimum constraints", () => {
    expect(html, "to shrink towards", {
      type: "tag",
      tag: "html",
      attributes: { lang: "R3C" },
      children: [
        {
          type: "tag",
          tag: "head",
          attributes: {},
          children: [
            {
              type: "tag",
              tag: "title",
              attributes: {},
              children: [
                {
                  type: "text",
                  value: "Ba vum uwizozeje ga."
                }
              ]
            }
          ]
        },
        { type: "tag", tag: "body", attributes: {}, children: [] }
      ]
    });
  });
});

describe("htmlString", () => {
  beforeEach(() => {
    chanceCache.clear();
  });

  it("generates random HTML strings", () => {
    expect(htmlString.take(5), "to equal snapshot", [
      '<html hidden lang="25SSlGlheH#ySk0Wbe)"><head><title dir="ltr" draggable="true" tabindex="612" style="column-rule: none thick #331dd2;">Navvalbu rujbave dolbaw gokim sab.</title></head><body tabindex="927" hidden dir="auto" draggable="false"></body></html>',
      '<html contenteditable="false" draggable="true" lang="N9RA)uSOukv7mfb"><head contenteditable=""><title hidden draggable="true" tabindex="358" style="shape-margin: 62%; grid-template: none; border-block-end-style: none; font-language-override: normal; outline-width: thin;">Junla esohogbi dadeip riide rohu jod.</title></head><body tabindex="-872" draggable="false" hidden contenteditable="" style="text-decoration-style: wavy; margin-bottom: 614.8804cm; text-decoration-thickness: from-font;"><base dir="rtl"></base></body></html>',
      '<html lang="@wamLNEJqZitys*mx"><head contenteditable="false"><title tabindex="-267">Je hodpizhir leg liptemdov.</title><base></base><style contenteditable="" draggable="false">:left { border-top: outset medium; font-variant-alternates: normal; list-style: url(guireva) none outside; margin-right: 53%; break-inside: avoid; }\n::slotted(: ipaje ( none ) ::ikotucfow ( luminance ):du ( fill-box, fill-box, no-clip, stroke-box, stroke-box )) { border-top: rgb(49%); border-inline-start: inset midnightblue thin; mask-border-outset: -7319704678957056; letter-spacing: normal; offset: polygon(evenodd , 35% 65%, 67% 728.3352em, 444.9043pt 144.0084ch) view-box 94%; }\n::placeholder { text-orientation: sideways; font-kerning: none; }\ntt { display: table-column; translate: 99% -411.1022in; border-left-color: currentcolor; clear: left; inset-block-start: -254.6263px; }\n:hover { scroll-padding-left: 57%; background-size: 67%; word-spacing: normal; border-image: 4337301782003712 fill / auto; padding-block: 105.64in; }\n:enabled { grid: auto-flow dense min-content / none; justify-items: unsafe left; background-size: contain; font-variant-alternates: annotation(bedinbel); border-inline: #dc437a -499.4973ch; }\n#likizef { min-inline-size: max-content; border-block-style: inset; background-blend-mode: overlay; margin-block: 54%; overscroll-behavior-x: none; }\n:required > ::selection ~ ::selection { padding-block-start: -917.865vh; font-variant-caps: small-caps; grid-column: haucmor; }\n* { text-orientation: mixed; }\n:invalid { border-top-width: medium; border-block-end-color: darkgrey; }\n:optional { color-adjust: exact; transition-delay: 33.3925s; orphans: 11%; grid-column-end:  -51%; mask-border-mode: luminance; }\n:root frameset ~ , + #ku { overscroll-behavior-y: contain; inline-size: 613.826pt ; border-inline-end-style: solid; grid-column-end: 23% cejtu; justify-self: stretch; }\n::backdrop { outline: invert outset 734.3979px; offset: right url(am) 810.7013deg auto -861.2774ex; font-variation-settings: normal; }\n#vec { counter-reset: betjivo; mix-blend-mode: color; text-align-last: auto; page-break-after: avoid; }\n:valid { column-count: auto; border-inline-start: #fd91be ridge; font-weight: bold; box-shadow: 861.5147px inset ; grid-auto-rows: fit-content(74%); }\n</style><style dir="rtl" contenteditable="true" tabindex="390">@charset "JIS_Encoding" ;\n@font-face {\n  font-style:italic ; font-stretch:semi-expanded ; font-family:\'nase\' ; unicode-range:U+8db? ; src:local(duucrak), local(wafos), local(ecwemu), local(pa), url(lujaguuno) ; font-variant:none ; font-variation-settings:\'lirhu\' -3057898527653888 ; font-feature-settings:normal ; font-weight:bold ;\n}\n@charset "JIS_C6229-1984-b" ;\nhgroup { mask-border-repeat: stretch; page-break-inside: auto; quotes: none; }\n:visited { paint-order: stroke fill markers; font-variant-caps: all-small-caps; inset: -834.2174vmin; margin: -127.3283vw; }\n</style><link contenteditable="true" integrity="&amp;fsOZ)fMmUqZvH]UZRC" crossorigin="use-credentials" draggable="true" href="((e$DHhTyumnVICAqRt"></link></head><body dir="rtl" hidden tabindex="-309" draggable="false">Tukovrad lo uzlilez sucbija.<video style="overscroll-behavior: auto; margin-block-end: auto; perspective-origin: bottom 73% right 85%; font-variation-settings: normal; border-width: thin;"><iframe dir="auto" hidden contenteditable="true" tabindex="-358" title="XK">Etuna midbiapo gudbujsok dulim ikerur fiwpogna.</iframe></video><svg hidden dir="rtl" tabindex="240" contenteditable=""></svg><title contenteditable="false" draggable="false" style="overscroll-behavior-inline: none;">Pofofbu je di nef divedo vamfuj ju.</title></body></html>',
      '<html contenteditable="" draggable="false" dir="rtl" tabindex="485" lang="BNI13ecksj0Y"><head style="grid-row-start: hawe; border-inline-start-color: rgb(32% , -7400236884426752); direction: rtl; border-bottom-right-radius: 781.0546mm; mask-origin: fill-box;"><title>Zikdeh ipsej kowba le efju iv.</title><base style="animation-delay: -179.2064s; width: auto; border-bottom: outset currentcolor 634.1442vw;"></base><style draggable="true">@keyframes \'sihzef\' {\n  32% {\n  grid-auto-flow: dense; page-break-after: always; margin: 414.4602Q; quotes: none;\n}\n}\n@font-face {\n  font-feature-settings:normal ; src:url(ruko) format(\'fo\'), url(sisilaw) format(\'ukawuwge\'), url(wibzatzet) ; font-stretch:ultra-expanded ; unicode-range:U+2a0d-d854 ; font-weight:bold ; font-variation-settings:\'invu\' -865617074716672, \'luljis\' -1103477770027008, \'hewli\' 784578641920000, \'hom\' -6901351346864128, \'kosva\' -6003644927311872 ;\n}\n:target { min-height: max-content; margin-block-end: auto; text-decoration-style: dotted; scroll-behavior: smooth; border-image-source: image-set(\'zab\' 204.5446dppx); }\n:read-write { inset-inline-start: auto; place-items: stretch; scroll-padding: -242.3569vmax; grid-template-rows: none; }\n:nth-of-type(even) { scroll-margin-block-start: 79.7213em; inset-inline: -182.0897rem; right: auto; }\noptgroup { overscroll-behavior-block: none; margin-inline: auto; box-sizing: border-box; }\n:first-of-type { border-inline-start-color: Window; flex-basis: available; font-variant-east-asian: normal; height: available; transform-origin: center 10% -487.969ch; }\n:required { mask-origin: view-box; border-block-start-color: #eb333b; overscroll-behavior-inline: auto; text-rendering: auto; padding-block: 15%; }\n:scope { font-optical-sizing: none; background-repeat: repeat-y; border: thick outset hsla(-4757494052159488 99% 16% / -6761476060610560); }\n::after { empty-cells: hide; contain: content; border-top-color: #9b9ef7; font-variant-caps: all-small-caps; background-clip: content-box; }\n:first-of-type { scroll-margin-bottom: 575.5798ch; mask-type: luminance; }\n:hover + :indeterminate { shape-margin: 93%; flex-flow: row-reverse; page-break-after: verso; }\n:lang(mt) { animation-name: si, none, none; animation-play-state: paused; }\n:first { scale: -4006633348792320; object-fit: contain; }\ndatalist { line-height: normal; white-space: break-spaces; hanging-punctuation: none; margin-top: 86%; }\n, { writing-mode: horizontal-tb; justify-items: stretch; mask-position: right; }\n:in-range { scroll-margin-block-end: 796.1086mm; border-right-color: hsla(-926.9007grad 47% 84% / 6%); }\n:enabled { padding-block-start: 55.2955pt; margin-block-end: 48%; font-variant-east-asian: normal; mask: left 65% bottom 601.4996ch / auto url(mamhevi) add luminance repeat-x view-box; }\n:nth-last-child(9n+7 of [ | sutukufek ] ::cap:ebgutir || * . len ::tek:nuhu ( contain )) { border-image: round; inset-inline: auto; text-decoration-style: dotted; scroll-margin-block-end: -635.7857pc; }\n</style><noscript contenteditable="false" draggable="false"><title contenteditable="true">Ifo buw anja tiwec fe ishoppan mijpibfu.</title></noscript></head><body contenteditable="" tabindex="-389" hidden><h6 hidden><ruby><mark contenteditable="true" dir="rtl"><label tabindex="-314" dir="auto" contenteditable="false"></label>Nifruzop vorezepof curcooza nuhdo guukalo elrubon.Dic rekmanam vespuk hibiz.Gij aculadib.</mark><rtc draggable="false" tabindex="-769"><select contenteditable=""></select><rt dir="auto"></rt></rtc><rp draggable="true"></rp><progress tabindex="-680" contenteditable="" dir="auto" hidden>Fozhi tenpagge gu lucufuonu hezir ithozi inu.<ins></ins><template dir="ltr" style="text-decoration-line: none; transition-delay: 704.3871s; animation-play-state: paused;"></template><label tabindex="-252" draggable="true" hidden></label></progress><rt contenteditable="" dir="ltr" hidden><sup draggable="false" hidden></sup><template dir="auto" hidden contenteditable="true"></template><output tabindex="189" draggable="false" contenteditable="false"></output><object contenteditable="true" tabindex="-744" style="scroll-margin-top: 112.3635vmax;"></object><s dir="rtl" contenteditable=""></s></rt></ruby><br contenteditable="true" dir="auto" hidden></br><code style="pointer-events: auto; margin-bottom: 97%;"><progress><object data="4Cb" hidden tabindex="-822" dir="rtl" draggable="true"></object><audio tabindex="-446"></audio>Difitvef zovaez biowituk numewes bu livni gedodnum.<template contenteditable="" draggable="false" hidden></template></progress><slot contenteditable="" hidden dir="rtl" style="overflow-x: hidden; grid-auto-rows: minmax(22% , min-content); border-inline-color: rgb(58%); clear: both;"><wbr tabindex="757" draggable="false"></wbr>Poc du bite roohpi lab lefugor gafdupwu.<audio></audio><input contenteditable="true" disabled checked type="checkbox"></input></slot><u draggable="true" tabindex="-644" dir="rtl" hidden style="grid-column-start: auto; padding-inline-start: 186.5573ex; opacity: -373277654515712; table-layout: fixed;"><label hidden style="scroll-behavior: auto; outline: auto; margin-top: 438.4036Q; border-top-color: hsl(949.5864grad , 65% , 8%); font-variant-east-asian: jis90;"></label></u><small dir="auto"><script integrity="MQRGc1DKS#S" src="Wu]Rv^ApCUIU92rj">console.log("hello")</script></small><em tabindex="-972" draggable="true"><keygen style="font-synthesis: none; unicode-bidi: isolate; break-before: avoid-region; orphans: -99%;"></keygen>Sakhig cif ner.<keygen contenteditable="true" dir="auto" hidden tabindex="252"></keygen><object draggable="true"></object><output hidden></output></em></code>Alienedag diobta gu di vaul baztusig.Kofab fo woufwo hu hoezuva.</h6><nav dir="rtl" draggable="false" style="text-underline-position: right under;"><strong hidden><ruby draggable="true" hidden tabindex="288" dir="ltr"><rp hidden dir="auto" draggable="false" tabindex="-436"></rp><rt></rt><rb contenteditable="true" dir="rtl" tabindex="696"></rb></ruby><picture draggable="true" contenteditable="" style="mask-type: luminance; outline-style: groove; place-self: stretch normal;"><template draggable="true" hidden contenteditable="true" dir="ltr"></template><template dir="auto" draggable="false"></template><script defer nomodule tabindex="955" contenteditable="true">console.log("hello")</script></picture><video contenteditable="" preload=""><em dir="rtl" contenteditable=""></em><time contenteditable="false" draggable="true" tabindex="525" hidden></time><meter></meter></video></strong></nav></body></html>',
      '<html lang=")FJg7"><head contenteditable="false" hidden tabindex="885"><title tabindex="900">Jes mordopni feevi.</title><base draggable="true" style="content: none;"></base><script crossorigin="">console.log("hello")</script><noscript dir="ltr" tabindex="-141" hidden><title hidden draggable="true">Kat wen zacosak he cimcot ti.</title></noscript></head><body tabindex="651"><h3 contenteditable="false" style="font-size: larger; margin-top: auto; padding-right: -69.5888mm; background-image: element(#ufo); overflow-y: scroll;"><ins><a hidden dir="ltr" draggable="true" contenteditable="false" style="word-wrap: break-word;"><blockquote hidden tabindex="782" contenteditable="false" style="border-bottom-left-radius: -545.2854ex;"></blockquote><progress dir="ltr"></progress><picture draggable="false"></picture>On futsueke mamter eruafac.</a><ruby draggable="true" style="overscroll-behavior-block: contain;"><rtc hidden tabindex="-862"></rtc><rtc contenteditable="" draggable="true"></rtc></ruby></ins></h3></body></html>'
    ]);
  });

  describe("when given a tag", () => {
    it("generates HTML strings starting with that tag", () => {
      expect(htmlString({ tag: "form" }).take(5), "to equal snapshot", [
        '<form method="get" novalidate style="background-image: none;"><br contenteditable="" draggable="true" tabindex="-291" dir="rtl"></br><abbr style="visibility: hidden; border-top-right-radius: -818.7872vh;"><math dir="rtl" draggable="false" contenteditable="true" tabindex="-15"><progress dir="ltr" tabindex="-520" contenteditable="true" hidden><sup draggable="false" hidden dir="auto"><cite contenteditable="false" hidden></cite></sup></progress><object hidden dir="ltr" data="7mf" contenteditable="false"><h2 hidden tabindex="-651" dir="auto"><i draggable="false" dir="auto" hidden contenteditable="false"></i>Pawicna ip riide.<ruby draggable="false" tabindex="-599" hidden></ruby><select size="186" autofocus disabled draggable="false" hidden></select><dfn tabindex="-896"></dfn></h2><h1><a dir="rtl" hidden contenteditable="true" draggable="true"></a></h1><svg contenteditable="" dir="ltr" hidden><object data="ZK0wk"></object><h3 hidden></h3><video contenteditable="" preload="metadata" style="inset-inline-end: 99%; margin-right: 185.3935rem; border-block-color: currentcolor;"></video></svg><ruby dir="auto"><rp hidden dir="auto" tabindex="150" draggable="false" style="backdrop-filter: url(har); line-break: anywhere; border-top: outset medium; font-variant-alternates: normal;"></rp><rt tabindex="-209" contenteditable="true" draggable="false" hidden></rt></ruby></object><select disabled style="width: max-content; list-style: symbols() none; mask: match-source view-box url(movecuaw) top -797.057vw right 0% fill-box repeat-y subtract; overscroll-behavior: none; order: 99%;"><option contenteditable="true" dir="auto" draggable="false" disabled>Dijjeg ukiipi povivho.</option></select><canvas dir="ltr" draggable="true"><video hidden tabindex="-294"><aside draggable="true"></aside></video><td rowspan="209" colspan="671"></td><h5 draggable="true"><samp></samp></h5><video hidden dir="ltr"><base contenteditable="false" draggable="true" tabindex="887" style="mask-border-width: 156.5603rem; animation-timing-function: linear;"></base><a contenteditable="true" draggable="false" style="animation-timing-function: linear; scroll-padding: auto;"></a><keygen contenteditable="" dir="ltr"></keygen></video><meta draggable="false" contenteditable="true" tabindex="700" style="border-end-end-radius: 97%; line-height: -354.0871ch; scroll-margin-block: -202.3582in; grid-column: haucmor;"></meta></canvas></math><label style="border-inline: 429.1919em teal; color-adjust: exact; transition-delay: 33.3925s; orphans: 11%; grid-column-end:  -51%;">Be waldoal.Mo tuibe tupum foctub.<bdo draggable="false" tabindex="-573" hidden dir="ltr"><u contenteditable="" style="animation-delay: -922.0738ms; min-block-size: min-content;"><embed src="tuKiZZz" title="c2E7)uOnF3Q7Q]2EjBs"></embed><s tabindex="562"></s></u><sub hidden draggable="true" tabindex="534"><em contenteditable="false" dir="auto" tabindex="-574" hidden></em>Se gozzod puc cisrerud.Tuccirce waccezluj huwsojwa lirhu mi mi.<textarea contenteditable="" readonly dir="ltr">Aburah ruocevuc tejiz.</textarea></sub><textarea readonly disabled autocomplete="on">Lese ug wajeksog.</textarea>Cuw wiokaivi.</bdo></label><picture style="font-variant-position: sub;"><template draggable="false"><template contenteditable="" dir="ltr" tabindex="-75" draggable="false"><style hidden tabindex="-241" draggable="true" style="transition-delay: -450.5364s; border-right-style: dotted;">@keyframes \'ja\' {\n  from {\n  justify-content: space-around; right: auto; list-style-image: url(runitsa); inset-block: -158.9285vh;\n}\n}\n@keyframes \'afuta\' {\n  35% {\n  mask-mode: luminance; font-synthesis: weight; text-emphasis-position: left under; grid-template-areas: \'joerufiw\';\n}\n}\n@keyframes ciupke {\n  from {\n  mask-border-width: -848.2734px; border-collapse: collapse; border-collapse: separate; border-image-source: none;\n}\n}\n:read-only > :only-of-type { border-inline-start-color: ghostwhite; }\n:indeterminate { text-align: right; line-height: 946.2208em; mask-size: 643.5813em; flex-direction: row-reverse; flex-flow: row; }\n:not([ lam ] ::baporpu:caetzi | holilzab #wo ::zibelre ( none ):gakufki) { border-top-right-radius: 34%; }\n:nth-last-of-type(even) { flex-wrap: wrap-reverse; offset-rotate: auto; mask-composite: intersect; page-break-after: right; }\n:nth-child(odd of [ lu ] ::helkow ( normal ):le:af ::cammoudu:ovaugi) { padding-inline-end: 82%; }\n::first-line { margin-top: 57%; inset: 677.1651vh; border-right-color: rgba(-3176312508252160 , -5413201948704768); left: auto; }\n:dir(rtl) { padding-block: 77%; }\n:enabled { mask-clip: view-box, fill-box, no-clip; }\n:nth-last-of-type(4n+4) { border-end-end-radius: 6%; margin-inline-start: auto; border-right: currentcolor; }\n, { border-image: element(#mojov) fill -6768059607941120 / auto / -637.5339mm stretch; text-transform: full-width; }\n:required { background-attachment: local; scale: none; scroll-padding-block-start: 20%; }\n:target { scroll-padding-block: auto; }\n:active { border-top-style: groove; object-position: -367.6069vmin center; overflow-wrap: anywhere; grid-template-areas: none; padding-block-start: 799.3349pc; }\n:only-child { margin-bottom: auto; grid-column-start:  80%; }\n</style><title dir="rtl">Rak tovaav rosoz kog fafwolzec devdopo pewo.</title><keygen contenteditable="true" draggable="false" dir="ltr"></keygen></template><blockquote tabindex="-960"><hr draggable="true" contenteditable="" dir="auto" hidden></hr>Ruawatas saco ewu defuf ohu.<button tabindex="-591" type="reset"></button></blockquote></template><img hidden dir="rtl" crossorigin="anonymous" src="&amp;zIzJ2^HRqcH^ksnQK"></img><template><h5 dir="rtl" draggable="false" style="transition-property: none; border-image-slice: fill 631759884517376; writing-mode: horizontal-tb; justify-items: stretch; mask-position: right;"><textarea hidden maxlength="441">Daeczeg tik udwupbi ha bicanip.</textarea>Dug sutukufek ic cof dasokiwu.</h5></template><template dir="rtl" tabindex="34" contenteditable="false"><h5 tabindex="780" dir="ltr"><textarea tabindex="-691" readonly cols="683">Sig mol gabfejus sopan mijpibfu.</textarea><cite contenteditable="" tabindex="-389" hidden></cite><abbr tabindex="722"></abbr></h5><iframe draggable="false" dir="rtl" src="cNtlS" hidden title="K">Najlo wonig cob janleaw.</iframe></template></picture></abbr><s contenteditable="true" hidden draggable="true" dir="ltr"><select draggable="false" disabled multiple><script async nomodule draggable="false">console.log("hello")</script></select><slot hidden dir="auto" draggable="true" tabindex="-522"></slot><samp draggable="true" dir="ltr" contenteditable="false"><script async defer src="bI#]b">console.log("hello")</script>Owcub zabi sugmoc.<strong dir="ltr" tabindex="-110"><em dir="auto" draggable="false" contenteditable=""></em></strong></samp><video draggable="false" hidden><kbd tabindex="614" hidden draggable="true" dir="auto"></kbd></video><map draggable="false"><sub>Lucufuonu hezir ithozi inu ik di ovbuhomo.</sub>He wo.Cufvu eci.</map></s><datalist draggable="false" tabindex="-662" dir="rtl" hidden><template tabindex="-868"><aside>Kes buesiba.<td contenteditable="true"><bdo contenteditable="true" draggable="true" dir="rtl" style="place-content: normal right; right: 894.5958in; border-inline-width: medium; right: 417.144px; inline-size: min-content;"></bdo><output contenteditable="false" tabindex="969" draggable="false"></output><strong hidden dir="auto"></strong>Hobfeuw nuro jevzova oza.Owituk numewes.</td><img dir="ltr" src="0BP@IJO)lnp#g5l5H!"></img><strong>Dor re.<time draggable="true" style="mask-clip: stroke-box, no-clip; grid-column: facomi / ezoboldag -80%; word-break: keep-all; border-image-outset: -2.2237pt;"></time><cite hidden></cite><map contenteditable="true" hidden tabindex="-883" style="scroll-padding-block: auto;"></map></strong></aside><s dir="ltr"><samp contenteditable="false" hidden dir="ltr">Corinali ranas hod tehnes ako.<em></em><svg contenteditable="false" draggable="false"></svg><progress contenteditable="" tabindex="-30" dir="ltr"></progress><i></i></samp><code draggable="true" tabindex="371" hidden><svg dir="auto" tabindex="422" hidden></svg><output dir="rtl" hidden></output>Fomunte pakcik ik pijsad kuhu kisak neicfe.</code>Vumi tur la sovi erusu.</s></template><option hidden dir="ltr" draggable="true" contenteditable="true" selected>Del dec.</option><option tabindex="686" contenteditable="" hidden>Sigpijrad ka gorufwo hu hoezuva.</option><option dir="ltr" hidden style="scroll-margin-block: 379.0535vmin; overflow-anchor: none; border-start-end-radius: 66%; scroll-padding-block-start: auto; outline-style: double;">Unku uvzanwa mohvitzut et.</option><option contenteditable="true" dir="rtl">Liselig so tos livpul ajlari.</option></datalist>Serus omagibtaw vucapef.</form>',
        '<form style="min-block-size: 52%; column-fill: balance-all; columns: auto auto;"><ruby dir="ltr" tabindex="181" draggable="false"><rt contenteditable="true" draggable="true"><map hidden tabindex="-794" dir="rtl"><sup tabindex="-781" hidden dir="ltr" draggable="false"><ruby hidden></ruby>Dab hof heksal jan.<button autofocus draggable="true" disabled type="button"></button><output contenteditable="false" draggable="true" hidden tabindex="79" style="text-decoration-style: dotted; border-left-color: hsla(-4924120437358592 34% 35% / -1037450373758976); list-style: junvig inside url(va); word-wrap: normal;"></output>Wilci uzto fidias jo.</sup></map><strong hidden dir="ltr" draggable="true" contenteditable="false" style="word-wrap: break-word;"><datalist tabindex="-36" draggable="true" hidden><img src="rOLw9Du"></img></datalist><math overflow="scale" hidden contenteditable="true"><time tabindex="868" draggable="false" style="border-right-width: thin; scroll-margin-top: -838.1615in; font-variant-east-asian: normal; border-inline-end-style: hidden;"></time><h1 dir="auto"></h1></math><del tabindex="314" hidden dir="rtl"></del><slot tabindex="953" hidden draggable="false" style="font-kerning: auto; background-repeat: repeat-y; animation-fill-mode: backwards; border-end-end-radius: 926.2303cm;"><bdo dir="ltr" contenteditable=""></bdo><embed draggable="true" contenteditable="true" src="J]3eT" title="Frmkfi"></embed><template contenteditable=""></template></slot>Tughof to.</strong><area shape="circle" draggable="true" tabindex="194"></area><bdo draggable="true" dir="auto"></bdo>Piag vafteh hoz.</rt></ruby></form>',
        '<form method="get"></form>',
        '<form draggable="true" contenteditable="" style="border-collapse: collapse; shape-outside: none; bottom: auto;"><h4 tabindex="315" contenteditable="false" draggable="false" hidden></h4><svg dir="auto"></svg><slot tabindex="461"><template tabindex="-105" contenteditable="false" dir="rtl"><audio contenteditable="false" preload="none" tabindex="-462" hidden><template contenteditable="true" dir="rtl" tabindex="765"><canvas tabindex="976" dir="auto" draggable="true" hidden style="break-after: recto;"></canvas><math contenteditable="false" hidden tabindex="-799" draggable="true"></math></template><style>@keyframes \'todce\' {\n  from {\n  mask-repeat: repeat-x; border-block-end-style: dashed; font-variation-settings: normal; margin-left: 39%; max-inline-size: 95%;\n}\n}\n:empty { text-underline-offset: auto; overflow-anchor: auto; }\n:last-of-type { all: unset; word-wrap: normal; overflow: auto; counter-increment: none; text-combine-upright: digits; }\n::first-line { box-sizing: border-box; place-items: normal; widows: 69%; }\n:right { margin-top: auto; border-inline-start-color: black; border-inline-start: ridge; will-change: auto; }\n::marker { backface-visibility: hidden; border-inline-style: hidden; border-color: orchid; }\n, { translate: none; inset-inline: 15%; scroll-padding-inline-end: auto; padding-top: 84.4744vh; mask-mode: match-source; }\n:left { column-rule-style: hidden; mask-border-mode: luminance; overflow-y: visible; text-align: center; }\n:only-of-type { pointer-events: visibleStroke; border-inline-end: double; align-self: flex-start; padding-inline-start: 100%; color: rgb(40% / 66%); }\n:checked { margin-right: auto; padding-top: 62%; }\n:nth-of-type(7n+4) { scrollbar-color: light; margin-right: 0%; }\n::after { scroll-padding-inline-end: auto; scroll-padding-bottom: -595.0389vh; transition-duration: 517.3528ms; overflow-block: hidden; }\n:root { scroll-padding-inline-end: auto; }\n</style></audio><audio preload="none" draggable="false"><link dir="rtl" contenteditable="" integrity="#JLV1ehQq" href="dSKYS7Stb9xKVfl"></link>Ureamila wi le aso.<h4 hidden tabindex="-638" contenteditable="true" dir="auto" style="overflow-x: clip;"><input type="search" style="scroll-padding-bottom: 395.3413pt; text-underline-offset: auto; scrollbar-color: rgb(6354183066222592);"></input><u tabindex="-842" style="scroll-margin-bottom: -129.6392pc; touch-action: none; padding: 262.3413cm;"></u>Ikwasfe feopi ceceje it jes esca.<img ismap contenteditable="true" src="5zg%rb2"></img><canvas contenteditable="" draggable="false" hidden dir="rtl"></canvas></h4><h1 hidden dir="ltr" draggable="false"><i dir="rtl" hidden style="animation-direction: normal;"></i></h1></audio><nav draggable="true" style="overflow-wrap: break-word; margin-inline-end: 99%; border-bottom-color: rgba(-1729780785348608 , 6%); scroll-margin: 415.6702px; margin-inline: 8%;"><ins contenteditable="" tabindex="97"><script>console.log("hello")</script>Liz ale idkos bedvudhez usobic.</ins></nav>Ihlit vi.</template><del dir="auto" tabindex="-203" contenteditable="true" hidden style="float: inline-start; place-self: stretch;"><h5 draggable="false" contenteditable=""><textarea>Is fektuc.</textarea>Askuzpu woh izi daram awe wu eh.<mark tabindex="-989" draggable="false" contenteditable="false" dir="rtl">Ijihoac hid zizonon etiugo.</mark></h5><cite style="overflow-anchor: auto; cursor: url(bar) progress; scroll-snap-stop: always; border-top-color: ThreeDLightShadow;"></cite><title contenteditable="true">Keca moowuzu vutuvan li hura utpi mo.</title></del></slot></form>',
        '<form>Wihemeila dic ha neh cegwocaw irekuzta etbi.<embed dir="rtl" tabindex="-252" src="Ki2gM" title=""></embed><strong>Fo nitterfag pupog zujok haj sa heulni.<kbd contenteditable="true" dir="ltr" hidden>Dej nifmeb mujodij subvoul jak wiiro.Ketozu epcoec ire.Allad rocic.</kbd><time dir="auto"><s draggable="false" contenteditable=""></s><template contenteditable="false" draggable="false" dir="ltr" tabindex="534" style="all: unset; grid-area: -3%  / 82% ; scroll-margin-inline-start: 117.2848ex; flex-direction: row-reverse; padding-left: 65%;"></template></time><small dir="auto" draggable="true" hidden contenteditable=""><output dir="auto" hidden><bdi dir="rtl" draggable="true" style="pointer-events: visibleFill; transform-origin: center; animation-fill-mode: backwards; offset-path: ray( -856.5763turn ); mask-position: bottom;"><sup contenteditable="" tabindex="505" draggable="false" style="border-block-end-width: -582.2719ch; text-transform: uppercase;"></sup><wbr></wbr><bdi></bdi></bdi><output>Kinozruc ude uj udirifhuv.<bdo dir="ltr" tabindex="-57"></bdo></output><img draggable="false" src="OzmQRk]GlU8KpD5]2"></img>Api mab wihazino nubzo cojiv.<s><label dir="rtl" draggable="false"></label><bdi draggable="false"></bdi><svg draggable="false" dir="rtl" hidden tabindex="807"></svg><em contenteditable="true" tabindex="298" draggable="true" hidden style="text-decoration: dashed none; text-transform: full-width;"></em><dfn draggable="false" hidden tabindex="527"></dfn></s></output></small><i dir="auto" hidden draggable="true">Epcabosu zuvtac.<code draggable="false" style="font-variant-numeric: lining-nums slashed-zero ordinal; object-fit: scale-down;"><audio contenteditable="false" preload="none" draggable="true" hidden style="padding-block-end: 333.7089in;"><dfn tabindex="-907" dir="ltr"></dfn></audio><bdi dir="ltr" draggable="false" tabindex="-358" contenteditable="true"></bdi><em><keygen draggable="false"></keygen><sub dir="rtl" hidden contenteditable="" tabindex="-917"></sub><audio draggable="false" contenteditable="false" style="perspective-origin: center; -webkit-line-clamp: none;"></audio><math contenteditable="true" tabindex="467" dir="ltr" draggable="true"></math></em></code><sub><iframe draggable="false" tabindex="-116" title="">Vadhovaz dur jeczouba ujeki goze.</iframe>Zak murlo.<svg draggable="false" tabindex="754" hidden dir="ltr"><video tabindex="713" dir="ltr" hidden preload="metadata"></video>Va zijavbej ebdukpo.</svg><span dir="ltr" draggable="false">Edi ze danaje pejlibjop ivoru.<s hidden draggable="true" tabindex="-152" contenteditable="false" style="border-top-color: ButtonShadow; mask-type: luminance; inline-size: fit-content; background-image: none;"></s><label></label>Amtipras hota etejazrow voaj kesruwo fub hibmu.Hemvuc otnim na.</span><u contenteditable="false" hidden style="scroll-padding-left: auto; width: auto; scroll-margin-block: 54.4653vmax; font-synthesis: none;">Rifnisac bub asu wukozu fuzohe voun.<var hidden tabindex="9" dir="rtl"></var><ins dir="auto" hidden></ins></u></sub>Aceha ipdu mu ulazijmas cuk louge liphuf.Damhobbu er ok ninpe jajiwewi zulpif hah.</i></strong><span draggable="false" style="offset: center / right 78% bottom 309.3014vmax; border-image-source: radial-gradient(circle , rgb(-6703755693129728 / 53%) -877.3381pt, hsl(946.1564deg 22% 20%), hsla(-997.0524deg 73% 19% / -4966687141003264) 64% 696.8508vh, hsla(7134436869013504 , 32% , 82% , 5706591621873664), rgba(-2936982460170240 / 81%) 508.4965vh , hsla(-700.7971rad , 38% , 7%) 71%);"></span>Pig bigsuto rat.</form>'
      ]);
    });
  });

  it.skip("only generates valid HTML", () => {
    expect(
      html => {
        expect(html, "to be valid html");
      },
      "to be valid for all",
      htmlString
    );
  });
});
