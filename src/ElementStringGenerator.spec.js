const expect = require("unexpected")
  .clone()
  .use(require("unexpected-snapshot"));

const chanceCache = require("chance-generators/lib/chanceCache");

const ElementStringGenerator = require("./ElementStringGenerator.js");

describe("ElementStringGenerator", () => {
  let generator;

  beforeEach(() => {
    chanceCache.clear();
    generator = new ElementStringGenerator({ tag: "code" });
  });

  it("generates elements of the given type as HTML a string", () => {
    expect(generator.take(3), "to equal snapshot", [
      '<code hidden=""><small contenteditable="false" draggable="false" dir="auto">Mabuj do lisib.<cite hidden="" draggable="true" contenteditable="false" tabindex="966"><a draggable="true" hidden="" contenteditable=""><embed hidden="" dir="auto" src="H*D%&amp;S1&amp;ygQoMd)y!" title="N9RA)uSOukv7mfb"></embed></a>Gebuwo zoclodevo dako wip.Nedwusres bi dadeip.<bdo dir="ltr" draggable="true"><slot dir="rtl" draggable="false">Hakime ijicho ajkad mifdej fef wijug howeju.</slot>Umi je.Vapiz soze wu tumit ede waser wi.</bdo></cite><picture dir="auto" tabindex="397" hidden="" contenteditable="true"><template draggable="false" hidden="" tabindex="-818" contenteditable="true"><embed src="1!%@$D5" tabindex="851" draggable="false" title="%XS"></embed><b><ruby contenteditable=""></ruby>Tugohi ze erosi log.</b><title dir="rtl"></title></template><source dir="rtl" tabindex="350" draggable="false" hidden=""></source><script defer="" tabindex="43" src="I(u^$B3b(&amp;yFO)Q)[@fv" dir="rtl" integrity="txJm" nomodule=""><h6></h6><nav hidden=""><br hidden="" dir="auto" tabindex="-810"></br><fieldset hidden="" tabindex="799" contenteditable="true" dir="ltr" disabled=""><legend contenteditable="true" hidden="" draggable="false"></legend></fieldset><samp draggable="true" tabindex="982"></samp><br tabindex="303" contenteditable="true"></br></nav><script hidden=""><nav contenteditable="true" hidden=""></nav>Waumo ak no ba ekvicod hiwa.<script src="sPAl4ibzi" draggable="true" async="" defer="" hidden="" tabindex="-40" crossorigin="use-credentials"></script></script></script><img dir="ltr" hidden="" contenteditable="true" decoding="async" ismap="" src="dT(U$dtBbU*LL"></img><script defer="" crossorigin="anonymous" dir="auto" tabindex="576" contenteditable="true">Azifa ga bavec lubet pa lowbokuhi zi.<select autofocus="" required="" size="867" draggable="false" contenteditable="false" dir="ltr" tabindex="-680" disabled=""><template draggable="true" tabindex="-896" dir="rtl" hidden=""></template><option></option><option disabled="" contenteditable="false" dir="rtl" tabindex="493" draggable="true" hidden=""></option><optgroup></optgroup></select><select hidden="" tabindex="-931" autofocus="" dir="auto" required="" multiple=""></select></script></picture>Norer fos ecumoce waccezluj huwsojwa lirhu mi.Ni dod zorhukne.</small><button type="button"><var>Ocevucfof nuwijwaw ocu doja nej.</var>Cehul remuved cuw.<noscript draggable="true" tabindex="-933" dir="auto" hidden="">Lilezenu bi ba vum uwizozeje ga jof.<img ismap="" crossorigin="use-credentials" src="J59Mw@8O)P"></img><label hidden="" dir="ltr" tabindex="-755" contenteditable="true"><code dir="rtl" draggable="true" tabindex="-905" hidden=""><kbd hidden=""></kbd><input multiple="" spellcheck="false" type="hidden" dir="ltr" autofocus="" inputmode="text" checked="" hidden="" required="" readonly="" contenteditable="true" capture=""></input></code>Ci di fo gomu pofofbu.Kadi nef divedo.</label></noscript></button>Civoj ju ziuflul zem.Cadfoivi bavliha lab efki.<i><output hidden="" dir="rtl"></output></i></code>',
      '<code draggable="false" tabindex="-565"><iframe dir="auto" src="hqlBs" tabindex="-851" title="7"></iframe><picture tabindex="-697" contenteditable="false" hidden="" dir="ltr"><img src="QJu!4pn)x0Fo" draggable="false" hidden="" dir="ltr" decoding="async" ismap="" tabindex="-707"></img><script hidden="" contenteditable="true" async="" tabindex="-454" dir="rtl" integrity="]o" draggable="false" crossorigin="use-credentials"></script><template contenteditable="false"></template><template contenteditable="true" draggable="false" dir="rtl"></template><template tabindex="-933" hidden="" draggable="false" dir="auto"><aside hidden="" draggable="false" dir="ltr" contenteditable="false">Ijeser noiljis sejmem igrak tovaav.Zunudo hos gi pusdudev seama.Wo tisirse uwsemi taw.<dfn contenteditable="" draggable="false"><bdi contenteditable="false" dir="auto" tabindex="911"></bdi><samp></samp><abbr contenteditable="false" hidden="" tabindex="-870" draggable="false"></abbr><button tabindex="4" draggable="true" disabled="" contenteditable="" type="reset"></button><input required="" type="date" readonly="" tabindex="-176" autofocus="" hidden="" spellcheck="false" multiple=""></input></dfn></aside></template></picture></code>',
      '<code><embed hidden="" src="pXMn[" title="PE@gN]nLw"></embed><object contenteditable="true">Riczo rikmi fafec legtikbud.<iframe tabindex="-254" src="LbSh" draggable="false" dir="rtl" contenteditable="" title="Pr1h7r]1S@79)D*Xkp"></iframe><cite tabindex="-13"></cite>Baf tiritoke lijukis nuhu zadsiznof bizi.</object></code>'
    ]);
  });
});
